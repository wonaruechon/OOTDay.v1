# Story 1.3: Relocate Recommended Outfits to Right Side Layout - Brownfield Addition

## Status
Draft

## Story

**As a** user viewing product details,
**I want** to see recommended outfits on the right side of the screen,
**so that** I can browse outfit suggestions without leaving the product detail view.

## Story Context

**Existing System Integration:**
- Integrates with: Product detail view (formerly ProductModal), outfit recommendation logic
- Technology: Next.js, React, Tailwind CSS responsive grid layout
- Follows pattern: Split-screen layout (product left, recommendations right)
- Touch points: Product detail component, outfit display components

## Acceptance Criteria

**Functional Requirements:**
1. Recommended outfits section relocated from bottom to right side of product details
2. Outfit recommendations remain visible while viewing product details
3. Recommended outfits are clickable and navigate to full outfit view

**Integration Requirements:**
4. Layout uses responsive grid (stacks on mobile, side-by-side on desktop)
5. Product detail content adjusts to fit left side of layout
6. Existing outfit recommendation logic continues to work unchanged

**Quality Requirements:**
7. Layout is responsive across mobile/tablet/desktop breakpoints
8. Right-side outfit section fits within viewport without excessive scrolling
9. Visual hierarchy maintains focus on product details as primary content

## Technical Notes

- **Integration Approach:** Implement CSS Grid or Flexbox layout with product details on left (60-70% width) and recommended outfits on right (30-40% width)
- **Existing Pattern Reference:** ProductModal.tsx uses `md:grid-cols-2` pattern; extend to three-column layout
- **Key Constraints:**
  - Must work within inline product detail view (Story 1.2 dependency)
  - Mobile: stack vertically (product first, then recommendations)
  - Tablet/Desktop: side-by-side layout
  - Outfit recommendations should show 2-4 outfits maximum in sidebar

## Tasks / Subtasks

- [ ] Update product detail layout (AC: 1, 4, 5)
  - [ ] Modify ProductDetail component to use grid layout
  - [ ] Set product details to left column (60-70% width)
  - [ ] Create right column for recommended outfits (30-40% width)
  - [ ] Implement responsive breakpoints (mobile stack, desktop side-by-side)
- [ ] Create/update recommended outfits sidebar component (AC: 2, 3, 8)
  - [ ] Display 2-4 outfit recommendations in compact format
  - [ ] Make outfit cards clickable to view full outfit details
  - [ ] Implement scrollable container if needed
  - [ ] Style to complement product detail design
- [ ] Integrate outfit recommendation logic (AC: 6)
  - [ ] Connect to existing outfit recommendation system
  - [ ] Pass current product context for relevant recommendations
  - [ ] Handle cases with no recommendations gracefully
- [ ] Responsive layout refinement (AC: 7, 9)
  - [ ] Test mobile layout (stacked vertically)
  - [ ] Test tablet layout (transition point)
  - [ ] Test desktop layout (side-by-side)
  - [ ] Adjust spacing and proportions for optimal UX
- [ ] Testing and validation
  - [ ] Verify outfit recommendations display correctly
  - [ ] Test outfit click navigation
  - [ ] Verify responsive behavior at all breakpoints
  - [ ] Check visual hierarchy and focus

## Dev Notes

**Relevant Source Tree:**
- `frontend/components/product/ProductDetail.tsx` - Product detail component (refactored from ProductModal in Story 1.2)
- `frontend/components/outfit/OutfitCard.tsx` - Outfit card component for recommendations
- `frontend/components/outfit/OutfitGrid.tsx` - Grid layout for outfits
- `frontend/lib/mock-data.ts` - Contains `mockOutfits` for recommendations

**Layout Strategy:**
- Use CSS Grid with `grid-cols-1 lg:grid-cols-[2fr_1fr]` pattern
- Mobile: single column, product detail first, then recommendations
- Desktop (lg breakpoint): two columns, product detail 2fr (66%), recommendations 1fr (33%)

**Recommended Outfits Section:**
- Show 2-4 compact outfit cards
- Display: outfit image, title, price, "View" button
- Clickable to open full outfit details (OutfitDetails component)
- If outfit recommendations exist, use existing logic; otherwise show similar items

**Integration with Existing Components:**
- `OutfitCard.tsx` can be reused in compact mode
- Pass `compact={true}` prop or create `OutfitCardCompact` variant
- Recommendations based on current product category, style, or color

### Testing

**Testing Standards:**
- Test file location: `frontend/components/product/__tests__/ProductDetailLayout.test.tsx`
- Testing framework: Jest + React Testing Library
- Test requirements:
  - Layout renders in grid format on desktop
  - Layout stacks vertically on mobile
  - Outfit recommendations display in right column
  - Clicking outfit recommendation navigates correctly
  - Responsive breakpoints trigger layout changes
  - Component handles missing recommendations gracefully

## Risk and Compatibility

**Minimal Risk Assessment:**
- **Primary Risk:** Layout complexity causing responsive issues or content overflow
- **Mitigation:** Progressive enhancement approach; test thoroughly at each breakpoint; use CSS Grid's auto-fit/auto-fill for flexibility
- **Rollback:** Revert layout changes; restore bottom-positioned outfit recommendations

**Compatibility Verification:**
- [x] No breaking changes to Product or Outfit interfaces
- [x] Layout changes only (no database or API changes)
- [x] Existing outfit recommendation logic unchanged
- [x] Performance impact negligible (CSS-only layout changes)

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-03 | 1.0 | Initial story creation | Sarah (PO) |

## Dev Agent Record

### Agent Model Used
_To be populated by dev agent_

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent_
