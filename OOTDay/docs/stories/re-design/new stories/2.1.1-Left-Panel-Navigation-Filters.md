# Story 2.1.1: Left Panel - Navigation & Filters

**Parent Epic:** Story 2.1 Three-Panel Layout Redesign
**Phase:** 2 (Days 5-6)
**Status:** Ready for Development
**Priority:** High
**Estimated Effort:** 2 days

---

## User Story

**As a** OOTDay user,
**I want** a persistent filter panel on the left side with category, occasion, and price range controls,
**so that** I can quickly refine outfit recommendations by my preferences without losing my place.

---

## Acceptance Criteria

### AC1: Category Filter (Gender)
- [ ] Radio button group with options: "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" (All), "‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á" (Women), "‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢" (Men)
- [ ] Default selection: "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"
- [ ] Selection updates FilterState.gender
- [ ] Visual indicator shows active selection
- [ ] Accessible with keyboard (Tab, Arrow keys, Space/Enter)

### AC2: Occasion Filter (Style)
- [ ] Checkbox group with options:
  - "‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏ü‡∏ü‡∏¥‡∏®" (Work/Office)
  - "‡πÄ‡∏î‡∏ó" (Date)
  - "‡∏ä‡∏¥‡∏•‡πÜ ‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î" (Casual Weekend)
  - "‡∏á‡∏≤‡∏ô‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á" (Party/Formal)
- [ ] Multiple selections allowed
- [ ] Selection updates FilterState.occasion array
- [ ] Accessible with keyboard navigation

### AC3: Price Range Slider
- [ ] Dual-handle slider component
- [ ] Range: ‡∏ø0 - ‡∏ø20,000
- [ ] Step increment: ‡∏ø500
- [ ] Display current values below slider: "‡∏øX,XXX - ‡∏øX,XXX"
- [ ] Updates FilterState.priceRange on change
- [ ] Debounced update (300ms) to avoid excessive re-renders

### AC4: Quick Preset Buttons
- [ ] Three preset buttons:
  - "üíº ‡∏ä‡∏∏‡∏î‡πÑ‡∏õ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô" (Work outfits)
  - "üíÉ ‡∏ä‡∏∏‡∏î‡πÑ‡∏õ‡∏á‡∏≤‡∏ô‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á" (Party outfits)
  - "üå¥ ‡∏ä‡∏∏‡∏î‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß" (Travel outfits)
- [ ] Clicking preset applies predefined filter combination
- [ ] Visual feedback on hover and click

### AC5: OOTDay Branding
- [ ] Logo/brand name at top of panel
- [ ] Consistent with design system
- [ ] Purple accent color (#A855F7)

### AC6: Responsive Behavior
- [ ] Desktop (‚â•1024px): Fixed left panel, 20% width, always visible
- [ ] Tablet (768-1023px): Slide-out drawer triggered by hamburger menu
- [ ] Mobile (<768px): Full-screen overlay accessed via bottom tab

---

## Technical Requirements

### Component Structure
```
components/navigation/
‚îú‚îÄ‚îÄ NavigationFilters.tsx       # Main component
‚îú‚îÄ‚îÄ CategoryFilter.tsx          # Gender radio group
‚îú‚îÄ‚îÄ OccasionFilter.tsx          # Occasion checkboxes
‚îú‚îÄ‚îÄ PriceRangeSlider.tsx        # Dual-handle slider
‚îî‚îÄ‚îÄ QuickPresets.tsx            # Preset buttons
```

### State Management
```typescript
// Uses FilterState from lib/types.ts
interface FilterState {
  gender?: 'all' | 'men' | 'women'
  occasion?: string[]  // ['work', 'casual', 'date', 'formal']
  priceRange?: { min: number; max: number }
  searchQuery?: string
}
```

### Dependencies
- `@radix-ui/react-radio-group` - Category radio buttons
- `@radix-ui/react-checkbox` - Occasion checkboxes
- `@radix-ui/react-slider` - Price range slider
- `FilterState` interface from `lib/types.ts`

---

## Design Specifications

### Layout
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ OOTDay Logo         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Category            ‚îÇ
‚îÇ ‚óã All          ‚îÇ
‚îÇ ‚óã Women          ‚îÇ
‚îÇ ‚óã Men           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Occation             ‚îÇ
‚îÇ ‚òê Today's Outfit        ‚îÇ
‚îÇ ‚òê Work Outfit              ‚îÇ
‚îÇ ‚òê Party Outfit     ‚îÇ
‚îÇ ‚òê Travel Outfit        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Price Range        ‚îÇ
‚îÇ ‡∏ø0 ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ ‡∏ø20,000‚îÇ
‚îÇ ‡∏ø0 - ‡∏ø20,000       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πà‡∏ß‡∏ô          ‚îÇ
‚îÇ [üíº Work Outfit]   ‚îÇ
‚îÇ [üíÉ Party Outfit] ‚îÇ
‚îÇ [üå¥ Travel Outfit]   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Styling
- Background: `bg-background`
- Border: `border-r` (right border only)
- Padding: `p-4`
- Section spacing: `space-y-6`
- Thai font: Noto Sans Thai
- Headings: `font-medium text-sm`
- Labels: `text-sm text-gray-700`

---

## Implementation Notes

### File Changes
**New Files:**
- `components/navigation/NavigationFilters.tsx`
- `components/navigation/CategoryFilter.tsx`
- `components/navigation/OccasionFilter.tsx`
- `components/navigation/PriceRangeSlider.tsx`
- `components/navigation/QuickPresets.tsx`

**Modified Files:**
- `app/page.tsx` - Import and render NavigationFilters in left panel

### Accessibility
- All form controls have proper labels
- ARIA roles for filter sections
- Keyboard navigation support
- Focus indicators visible (2px purple outline)
- Screen reader announces filter changes

### Testing Requirements
- [ ] Unit tests for each filter component
- [ ] Integration test: Filters update FilterState correctly
- [ ] Accessibility test: Keyboard navigation works
- [ ] Visual test: Matches design specs
- [ ] Responsive test: Works on all breakpoints

---

## Dependencies

**Blocked By:**
- ‚úÖ Story 2.1 Phase 1 (Foundation) - COMPLETE

**Blocks:**
- Story 2.1.3 (Middle Panel) - Outfit grid needs filter state
- Story 2.1.5 (Interactivity) - Filter logic implementation

---

## Success Metrics

- [ ] Filter panel renders on desktop without layout issues
- [ ] All filter controls functional and update state
- [ ] Drawer opens/closes smoothly on tablet
- [ ] Mobile full-screen filter view accessible
- [ ] Zero accessibility violations (axe-core)
- [ ] Component passes all unit tests
- [ ] Thai text renders correctly with Noto Sans Thai font

---

## Definition of Done

- [ ] All acceptance criteria met
- [ ] Code reviewed and approved
- [ ] Unit tests written and passing (‚â•80% coverage)
- [ ] Accessibility audit passed
- [ ] Design QA approved
- [ ] Documentation updated
- [ ] Merged to main branch
- [ ] Deployed to staging environment

---

**Created:** 2025-10-05
**Last Updated:** 2025-10-05
**Related:** Story 2.1, Story 2.1.3, Story 2.1.5
